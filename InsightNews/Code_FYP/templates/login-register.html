<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width" , initial-scale="1.0">

  <!--css file-->
  <link rel="stylesheet" type="text/css" href="static\styles\style_login_register.css" />

  <!--boxicon-->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <title>Login & Registration Form</title>
</head>

<body>
  <div class="container">
    <div class="forms-container">
      <div class="signin-signup">

        <!--Display successful and error messages-->
        {% for category,message in get_flashed_messages(with_categories=true) %}
        {% if message %}
        <div class="alert-{{category}}">
          <span>{{message}}</span>
          <button class="exit-btn">
            <ion-icon name="close-outline"></ion-icon>
          </button>
        </div>
        {% endif %}
        {% endfor %}

        <!--Login/Authentication-->
        <form method="post" class="sign-in-form">
          <h2 class="title">Sign in</h2>
          <div class="input-field">
            <i class='bx bxs-envelope'></i>
            <input type="text" placeholder="Email" name="email" value="{{emailAddr}}" required />
          </div>
          <div class="input-field">
            <i class='bx bxs-lock-alt'></i>
            <input type="password" placeholder="Password" name="password" required />
          </div>

          <a href="{{url_for('forgot_password')}}">Forgot Password?</a>

          <input type="submit" class="btn solid" value="Sign In" name="login" />
        </form>

        <!--Registration-->
        <form method="post" class="sign-up-form">
          <h2 class="title">Sign up</h2>
          <div class="input-field">
            <i class='bx bxs-user'></i>
            <input type="text" placeholder="Username" name="username" value="{{name}}" required />
          </div>

          <div class="input-field">
            <i class='bx bxs-envelope'></i>
            <input type="email" placeholder="Email" name="email" value="{{emailAddr}}" required />
          </div>

          <div class="input-field">
            <i class='bx bxs-lock-alt'></i>
            <input type="password" placeholder="Password" name="password" required />
          </div>

          <div class="input-field">
            <i class='bx bxs-lock-alt'></i>
            <input type="password" placeholder="Confirmed Password" name="confirmed_password" required />
          </div>

          <input type="submit" class="btn" value="Sign Up" name="register" />
        </form>
      </div>
    </div>

    <div class="panels-container">
      <div class="panel left-panel">
        <div class="content">
          <h2>New here ?</h2>
          <p>
            Register now to gain access to all features available in InsightNews
          </p>
          <button class="btn transparent" id="sign-up-btn">
            Sign up
          </button>
        </div>
        <img src="static/image/read-undraw.svg" class="image" alt="" />
      </div>
      <div class="panel right-panel">
        <div class="content">
          <h3>One of us ?</h3>
          <p>
            Login now to InsightNews to access all features
          </p>
          <button class="btn transparent" id="sign-in-btn">
            Sign in
          </button>
        </div>
        <img src="static/image/news-undraw.svg" class="image" alt="" />
      </div>
    </div>
  </div>

  <script src="../static/js/app.js"></script>

  <!--JQuery CDN link-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

  <script>
    // close flash message
    $('.exit-btn').click(function () {
      $('.alert-warning').addClass('active');
      $('.alert-success').addClass('active');
    });

    // set timeout for flash message
    setTimeout(function () {
      $('.alert-warning').fadeOut('slow');
      $('.alert-success').fadeOut('slow');
    }, 30000); //30 seconds

  </script>

  <!--ionicons-->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>